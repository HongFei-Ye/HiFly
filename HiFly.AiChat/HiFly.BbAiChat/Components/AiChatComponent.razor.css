/* AI聊天组件V2主容器样式 */
.ai-chat-container {
    height: 100vh;
    display: flex;
    flex-direction: column;
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    overflow: hidden;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    position: relative;
}

.ai-chat-body {
    display: flex;
    flex: 1;
    overflow: hidden;
    position: relative;
}

.ai-chat-center {
    flex: 1;
    display: flex;
    flex-direction: column;
    background: linear-gradient(135deg, #ffffff 0%, #f8f9ff 100%);
    border-radius: 5px 5px 5px 5px;
    margin: 0.2rem 0.1rem;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    min-width: 0; /* 确保flex子项能够收缩 */
}

.panel-splitter {
    width: 1px;
    background: linear-gradient(180deg, 
        rgba(102, 126, 234, 0.1) 0%, 
        rgba(102, 126, 234, 0.3) 50%, 
        rgba(102, 126, 234, 0.1) 100%);
    flex-shrink: 0;
}

/* 暗色主题支持 */
body.dark-theme .ai-chat-container {
    background: linear-gradient(135deg, #1a1a1a 0%, #2d3748 100%);
}

body.dark-theme .ai-chat-center {
    background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
}

body.dark-theme .panel-splitter {
    background: linear-gradient(180deg, 
        rgba(255, 255, 255, 0.1) 0%, 
        rgba(255, 255, 255, 0.3) 50%, 
        rgba(255, 255, 255, 0.1) 100%);
}

/* ============================================
   响应式优化 - 保持水平布局，确保中间区域可见
   ============================================ */
@media (max-width: 768px) {
    .ai-chat-body {
        /* 保持水平布局，不改为column */
        flex-direction: row;
        gap: 0.1rem; /* 减少面板间隙 */
    }
    
    .ai-chat-center {
        /* 确保中间区域始终可见 */
        flex: 1;
        min-width: 200px; /* 设置最小宽度确保对话区域可见 */
        margin: 0.1rem;
        border-radius: 3px;
    }
    
    .panel-splitter {
        /* 在小屏幕上隐藏分隔线以节省空间 */
        display: none;
    }
}

/* 更小屏幕的特殊处理 */
@media (max-width: 480px) {
    .ai-chat-body {
        gap: 0;
    }
    
    .ai-chat-center {
        min-width: 180px; /* 进一步减小最小宽度但保持可用性 */
        margin: 0.05rem;
    }
    
    .ai-chat-container {
        /* 在极小屏幕上微调容器 */
        font-size: 0.9rem;
    }
}

/* 横屏模式优化 */
@media (max-width: 768px) and (orientation: landscape) {
    .ai-chat-center {
        min-width: 250px; /* 横屏时给中间区域更多空间 */
    }
}

/* 确保在任何情况下中间区域都不会被完全隐藏 */
@media (max-width: 1024px) {
    .ai-chat-center {
        /* 使用flex-grow确保中间区域获得剩余空间 */
        flex-grow: 1;
        flex-shrink: 1;
        flex-basis: 0;
    }
}
