@page "/"

@rendermode InteractiveServer
@using HiFly.BbAiChat.Components
@using HiFly.BbAiChat.Components.Messages
@using HiFly.BbAiChat.Components.Sidebar

<PageTitle>AI智能对话 - 动态宽度调整演示</PageTitle>

<div style="height: 100vh; display: flex; flex-direction: column;">

    <!-- AI聊天组件 -->
    <div style="flex: 1; overflow: hidden;">
        <AiChatComponent Title="HiFly AI助手"
                           ShowLeftPanel="true"
                           IsLeftPanelCollapsed="isLeftPanelCollapsed"
                           OnMessageSent="HandleMessageSent"
                           OnChatCleared="HandleChatCleared"
                           OnNewChatCreated="HandleNewChat"
                           OnSessionSelected="HandleSessionSelected"
                           OnSessionDeleted="HandleDeleteSession"
                           OnLeftPanelCollapsedChanged="HandleLeftPanelCollapsedChanged"
                           OnRightPanelVisibilityChanged="HandleRightPanelVisibilityChanged"
                           OnModelChanged="HandleModelChanged"
                           OnTemperatureChanged="HandleTemperatureChanged"
                           @ref="chatComponent">
            
            <!-- 自定义左侧面板模板，展示动态宽度功能 -->
            <SidebarTemplate>
                <AiChatSidebar IsCollapsed="isLeftPanelCollapsed"
                               Width="@currentWidth"
                               MinWidth="200"
                               MaxWidth="500"
                               EnableWidthResize="true"
                               ShowResizeHandle="true"
                               Sessions="@GetMockSessions()"
                               CurrentSessionId="@currentSessionId"
                               MessageCount="@messageCount"
                               OnNewChat="HandleNewChat"
                               OnCollapsedChanged="HandleLeftPanelCollapsedChanged"
                               OnSessionSelected="HandleSessionSelected"
                               OnEditSession="HandleEditSession"
                               OnDeleteSession="HandleDeleteSession"
                               OnWidthChanged="HandleSidebarWidthChanged"
                               WidthPresets="@GetCustomWidthPresets()" />
            </SidebarTemplate>
        </AiChatComponent>
    </div>

</div>



















